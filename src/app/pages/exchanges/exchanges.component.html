<mat-tab-group class="min-h-[80vh]">
    <mat-tab label="Initiator">
        <table *ngIf="initiateExchanges.length > 0" mat-table [dataSource]="initiateExchanges" class="mat-elevation-z8">

            <ng-container matColumnDef="id">
              <th mat-header-cell *matHeaderCellDef> ID </th>
              <td mat-cell *matCellDef="let element"> {{element.id}} </td>
            </ng-container>
          
            <ng-container matColumnDef="initiator">
              <th mat-header-cell *matHeaderCellDef> Initiator </th>
              <td mat-cell *matCellDef="let element"> <a class="font-medium text-[#3F51B5] hover:underline" target="_blank" [routerLink]="['/user',element.initiatorId,'profile']">{{element.initiator}}</a> </td>
            </ng-container>
          
            <ng-container matColumnDef="recipient">
              <th mat-header-cell *matHeaderCellDef> Recipient </th>
              <td mat-cell *matCellDef="let element"> <a class="font-medium text-[#3F51B5] hover:underline" target="_blank" [routerLink]="['/user',element.recipientId,'profile']">{{element.recipient}}</a> </td>
            </ng-container>
          
            <ng-container matColumnDef="book">
              <th mat-header-cell *matHeaderCellDef> Book </th>
              <td mat-cell *matCellDef="let element"> <a class="font-medium underline hover:text-[#3F51B5]" target="_blank" [routerLink]="['/book',element.bookId]">{{element.book}}</a> </td>
            </ng-container>

            <ng-container matColumnDef="confirmed">
                <th mat-header-cell *matHeaderCellDef> Confirmed </th>
                <td mat-cell *matCellDef="let element"> {{element.confirmed}} </td>
            </ng-container>

            <ng-container matColumnDef="action">
                <th mat-header-cell *matHeaderCellDef> Action </th>
                <td mat-cell *matCellDef="let element">
                    <button mat-flat-button color="warn" (click)="handleDeleteExchange(element.id)">Delete</button>
                </td>
            </ng-container>
          
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
          </table>
          <div *ngIf="initiateExchanges.length === 0">
            <h3>There are no initiated exchanges</h3>
          </div>
    </mat-tab>

    <mat-tab label="Recipient">
        <table *ngIf="recipientExchanges.length > 0" mat-table [dataSource]="recipientExchanges" class="mat-elevation-z8">

            <ng-container matColumnDef="id">
              <th mat-header-cell *matHeaderCellDef> ID </th>
              <td mat-cell *matCellDef="let element"> {{element.id}} </td>
            </ng-container>
          
            <ng-container matColumnDef="initiator">
              <th mat-header-cell *matHeaderCellDef> Initiator </th>
              <td mat-cell *matCellDef="let element"> <a class="font-medium text-[#3F51B5] hover:underline" target="_blank" [routerLink]="['/user',element.initiatorId,'profile']">{{element.initiator}}</a> </td>
            </ng-container>
          
            <ng-container matColumnDef="recipient">
              <th mat-header-cell *matHeaderCellDef> Recipient </th>
              <td mat-cell *matCellDef="let element"> <a class="font-medium text-[#3F51B5] hover:underline" target="_blank" [routerLink]="['/user',element.recipientId,'profile']">{{element.recipient}}</a> </td>
            </ng-container>
          
            <ng-container matColumnDef="book">
              <th mat-header-cell *matHeaderCellDef> Book </th>
              <td mat-cell *matCellDef="let element"> <a class="font-medium underline hover:text-[#3F51B5]" target="_blank" [routerLink]="['/book',element.bookId]">{{element.book}}</a> </td>
            </ng-container>

            <ng-container matColumnDef="confirmed">
                <th mat-header-cell *matHeaderCellDef> Confirmed </th>
                <td mat-cell *matCellDef="let element"> {{element.confirmed}} </td>
            </ng-container>

            <ng-container matColumnDef="action">
                <th mat-header-cell *matHeaderCellDef> Action </th>
                <td mat-cell *matCellDef="let element" class="flex flex-col"> 
                    <button mat-flat-button color="primary" class="max-w-[100px] m-1" (click)="handleConfirmExchange(element.id)">Confirm</button>
                    <button mat-flat-button color="warn" class="max-w-[100px] m-1" (click)="handleDeleteExchange(element.id)">Delete</button>
                </td>
            </ng-container>
          
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
          </table>
          <div *ngIf="recipientExchanges.length === 0">
            <h3>There is no exchanges where you are the recipient</h3>
          </div>
    </mat-tab>
</mat-tab-group>
