<form [formGroup]="addReviewForm" (ngSubmit)="handleAddNewReview()" class="w-full sm:w-[27rem] p-6 rounded-lg shadow-md">
    <div class="mb-2">
        <mat-form-field class="w-full">
            <mat-label class="text-gray-400">Rating</mat-label>
            <input 
                required
                matInput
                type="number"
                min="1"
                max="5"
                formControlName="rating"
                class="py-2 px-3 text-gray-200 mt-1 focus:shadow-outline"
            />
            <mat-error *ngIf="addReviewForm.controls.rating.touched && addReviewForm.controls.rating.invalid">
                <span *ngIf="addReviewForm.controls.rating.hasError('required')">The field is mandatory</span>
                <span *ngIf="addReviewForm.controls.rating.hasError('min')">The minimum value is 1</span>
                <span *ngIf="addReviewForm.controls.rating.hasError('max')">The maximum value is 5</span>
            </mat-error>
        </mat-form-field>
    </div>
    <div class="mb-2">
        <mat-form-field class="w-full">
            <mat-label class="text-gray-400">Review</mat-label>
            <textarea 
                required
                matInput
                #input
                maxlength="1000"
                formControlName="review"
                class="py-2 px-3 text-gray-200 mt-1 focus:shadow-outline"
            ></textarea>
            <mat-hint>{{input.value.length}}/1000</mat-hint>
            <mat-error *ngIf="addReviewForm.controls.rating.touched && addReviewForm.controls.rating.invalid">
                <span *ngIf="addReviewForm.controls.rating.hasError('required')">The field is mandatory</span>
                <span *ngIf="addReviewForm.controls.rating.hasError('maxLength')">The maximum length of review is 1000 characters</span>
            </mat-error>
        </mat-form-field>
    </div>
    <div>
        <mat-dialog-actions>
            <button mat-stroked-button color="primary" cdkFocusInitial mat-dialog-close>Cancel</button>
            <button mat-raised-button [mat-dialog-close]="true" color="primary" type="submit" [disabled]="!(addReviewForm.valid && addReviewForm.dirty)">Add Review</button>
        </mat-dialog-actions>
    </div>
</form>
